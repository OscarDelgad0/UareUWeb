async function consultarAPIEmpleados(){try{const o="http://localhost:3000/APIEnviarEmpleados.php",t=await fetch(o);return await t.json()}catch(o){console.log(o)}}async function consultarUltimaHuella(){try{const o="http://localhost:3000/APIEnviarHuella.php",t=await fetch(o);return await t.json()}catch(o){console.log(o)}}async function consultarAPIActualizacion(){try{const o="http://localhost:3000/APISensor.php",t=await fetch(o);return await t.json()}catch(o){console.log(o)}}async function actualizaRegistro(o){const t=new FormData;for(const a in o[0])t.append(a,o[0][a]);t.append("status_registro",1);try{const o="http://localhost:3000/POSTCambios.php",a=await fetch(o,{method:"POST",body:t});await a.json()}catch(o){}}async function colocarEmpleados(){const o=await consultarAPIActualizacion();var t=parseInt(o[0].status_registro),a=Boolean(t);console.log(a),console.log("Despues de status"),a||actualizaRegistro(o);const e=await consultarAPIEmpleados(),c=document.querySelector("#empleado");console.log(e),e.forEach(o=>{const{id:t,nombre:a,id_huella:e}=o;if(console.log(e),0!=e&&null!=e);else{const o=document.createElement("OPTION");o.value=t,o.text=a,c.appendChild(o)}})}async function colocarHuella(){const o=await consultarUltimaHuella(),t=document.querySelector(".id"),a=document.querySelector(".fecha"),e=document.querySelector(".hora"),c=document.querySelector(".id-huella"),n=document.querySelector(".id-empleado"),{id:l,id_empleado:s,fecha_creacion:r,hora_creacion:i}=o[0];s?console.log("Huella ya registrada con usuario, desea sobreescribir?"):(t.textContent=l,a.textContent=r,e.textContent=i,c.value=l,n.value=l)}document.addEventListener("DOMContentLoaded",(function(){colocarEmpleados(),colocarHuella(),verificador()}));